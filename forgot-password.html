<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="비밀번호 찾기 - MarketGrow">
    <title>비밀번호 찾기 - MarketGrow</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="mobile-fix.css">
    <link rel="stylesheet" href="auth.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <div class="logo-icon">MG</div>
                <h2><a href="index.html">MarketGrow</a></h2>
            </div>
            <ul class="nav-menu">
                <li><a href="login.html">로그인</a></li>
                <li><a href="signup.html">가입하기</a></li>
                <li><a href="services.html">서비스목록</a></li>
            </ul>
        </div>
    </nav>

    <!-- Password Reset Section -->
    <section class="auth-section">
        <div class="container">
            <div class="auth-container">
                <div class="auth-card">
                    <div class="auth-header">
                        <h2>비밀번호 찾기</h2>
                        <p>가입시 사용한 이메일 주소를 입력하세요</p>
                    </div>

                    <!-- Step 1: Email Input -->
                    <div id="step1" class="reset-step">
                        <form id="emailForm">
                            <div class="form-group">
                                <label for="email">이메일 주소</label>
                                <div class="input-group">
                                    <span class="input-icon">
                                        <i class="fas fa-envelope"></i>
                                    </span>
                                    <input type="email" id="email" name="email" placeholder="example@email.com" required>
                                </div>
                            </div>

                            <button type="submit" class="btn btn-primary btn-block">
                                <span id="btnText">인증 코드 받기</span>
                                <span id="btnLoader" style="display: none;">
                                    <i class="fas fa-spinner fa-spin"></i> 전송중...
                                </span>
                            </button>
                        </form>
                    </div>

                    <!-- Step 2: Verification Code -->
                    <div id="step2" class="reset-step" style="display: none;">
                        <div class="step-info">
                            <i class="fas fa-check-circle"></i>
                            <p><span id="userEmail"></span>로 인증 코드를 전송했습니다.</p>
                        </div>

                        <form id="verifyForm">
                            <div class="form-group">
                                <label for="verificationCode">인증 코드</label>
                                <div class="input-group">
                                    <span class="input-icon">
                                        <i class="fas fa-key"></i>
                                    </span>
                                    <input type="text" id="verificationCode" name="verificationCode" 
                                           placeholder="6자리 인증 코드" maxlength="6" required>
                                </div>
                                <div class="timer-info">
                                    <span id="timer">05:00</span> 남음
                                    <button type="button" class="resend-btn" onclick="resendCode()">재전송</button>
                                </div>
                            </div>

                            <button type="submit" class="btn btn-primary btn-block">인증 확인</button>
                        </form>
                    </div>

                    <!-- Step 3: New Password -->
                    <div id="step3" class="reset-step" style="display: none;">
                        <div class="step-info">
                            <i class="fas fa-shield-alt"></i>
                            <p>새로운 비밀번호를 설정하세요</p>
                        </div>

                        <form id="resetForm">
                            <div class="form-group">
                                <label for="newPassword">새 비밀번호</label>
                                <div class="input-group">
                                    <span class="input-icon">
                                        <i class="fas fa-lock"></i>
                                    </span>
                                    <input type="password" id="newPassword" name="newPassword" 
                                           placeholder="8자 이상, 영문+숫자+특수문자" required>
                                    <button type="button" class="toggle-password" onclick="togglePassword('newPassword')">
                                        <i class="fas fa-eye"></i>
                                    </button>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="confirmPassword">비밀번호 확인</label>
                                <div class="input-group">
                                    <span class="input-icon">
                                        <i class="fas fa-lock"></i>
                                    </span>
                                    <input type="password" id="confirmPassword" name="confirmPassword" 
                                           placeholder="비밀번호를 다시 입력하세요" required>
                                    <button type="button" class="toggle-password" onclick="togglePassword('confirmPassword')">
                                        <i class="fas fa-eye"></i>
                                    </button>
                                </div>
                            </div>

                            <div class="password-strength">
                                <div class="strength-bar">
                                    <div class="strength-level" id="strengthLevel"></div>
                                </div>
                                <span class="strength-text" id="strengthText">비밀번호 강도</span>
                            </div>

                            <button type="submit" class="btn btn-primary btn-block">비밀번호 변경</button>
                        </form>
                    </div>

                    <!-- Success Message -->
                    <div id="successStep" class="reset-step" style="display: none;">
                        <div class="success-message">
                            <i class="fas fa-check-circle"></i>
                            <h3>비밀번호가 변경되었습니다!</h3>
                            <p>새로운 비밀번호로 로그인하세요.</p>
                            <a href="login.html" class="btn btn-primary btn-block">로그인 페이지로</a>
                        </div>
                    </div>

                    <div class="auth-footer">
                        <p>비밀번호를 기억하셨나요? <a href="login.html">로그인</a></p>
                        <p>계정이 없으신가요? <a href="signup.html">회원가입</a></p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-bottom">
                <p>&copy; 2024 MarketGrow. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script src="js/forgot-password.js"></script>
    <script src="js/mobile-fix.js"></script>
</body>
</html>